---
import Layout from "./_layout.astro";
import { getIndex } from "../utils/sanity";
import Heading from "~/components/Heading.astro";
// import PortableText from "~/components/PortableText/PortableText.astro";

const data = await getIndex({
  preview: Astro.locals.preview,
  options: Astro.locals.loadQueryOptions,
});

if (!data) {
  return new Response(null, {
    status: 404,
    statusText: "Not found",
  });
}
---

<Layout>
  <div
    class="max-md:w-full max-md:px-4 max-md:pt-4 bg-black/10 md:bg-transparent md:w-[calc(100%-2rem)] lg:max-w-7xl mx-auto max-md:pb-24 md:h-[768px] relative"
  >
    <div class="flex flex-col w-full mx-auto md:h-full relative">
      <!-- Shadow stack -->
      <div class="absolute top-full w-full">
        <div class="z-10 absolute top-auto -bottom-[60px] w-full">
          <div class="bg-black/5 backdrop-blur-lg h-24 rounded-lg mx-20"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[48px] w-full">
          <div class="bg-black/20 backdrop-blur-lg h-24 rounded-lg mx-16"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[36px] w-full">
          <div class="bg-black/40 backdrop-blur-lg h-24 rounded-lg mx-12"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[24px] w-full">
          <div class="bg-black/50 backdrop-blur-lg h-24 rounded-lg mx-8"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[12px] w-full">
          <div class="bg-black/50 backdrop-blur-lg h-24 rounded-lg mx-4"></div>
        </div>
      </div>
      <!-- Content Wrapper -->
      <div
        class="lg:relative z-20 grow bg-black rounded-lg w-full h-full min-h-[640px] sm:min-h-96 p-8 max-sm:pt-16 md:p-16 grid sm:items-center"
      >
        <!-- Text Content -->
        <div class="w-4/5 sm:w-3/5 md:w-1/2 space-y-3 max-w-xl">
          <div class="uppercase text-primary text-sm">
            Full-Stack Web Development
          </div>
          <Heading level={1} className="max-w-64 md:max-w-full"
            >Bring your ideas to life.</Heading
          >
          <p class="text-background text-xl md:text-2xl">
            Helping today's visionaries <em>(psstâ€”that's you)</em> build a better
            tomorrow by turning ideas into online interactive experiences.
          </p>
        </div>
      </div>
      <img
        src="/me.png"
        alt="Me"
        class="absolute z-30 -bottom-24 md:bottom-0 -right-4 md:right-0 md:rounded-br-lg object-cover h-[400px] w-auto md:h-[800px] md:w-2/3 lg:w-[800px] aspect-square pointer-events-none dark:brightness-75 contrast-[1.1]"
      />
      <!-- <PortableText blocks={data.body} /> -->
    </div>
  </div>
</Layout>
