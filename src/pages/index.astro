---
import Layout from "./_layout.astro";
import { getIndex } from "../utils/sanity";
import Heading from "~/components/Heading.astro";
// import PortableText from "~/components/PortableText/PortableText.astro";

const data = await getIndex({
  preview: Astro.locals.preview,
  options: Astro.locals.loadQueryOptions,
});

if (!data) {
  return new Response(null, {
    status: 404,
    statusText: "Not found",
  });
}
---

<Layout>
  <main class="w-[calc(100%-2rem)] mx-auto lg:max-w-7xl grow bg-background">
    <div class="flex flex-col w-full mx-auto h-[768px] relative">
      <div class="absolute top-full w-full">
        <div class="z-10 absolute top-auto -bottom-[60px] w-full">
          <div class="bg-black/5 backdrop-blur-lg h-24 rounded-lg mx-20"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[48px] w-full">
          <div class="bg-black/20 backdrop-blur-lg h-24 rounded-lg mx-16"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[36px] w-full">
          <div class="bg-black/40 backdrop-blur-lg h-24 rounded-lg mx-12"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[24px] w-full">
          <div class="bg-black/50 backdrop-blur-lg h-24 rounded-lg mx-8"></div>
        </div>
        <div class="z-10 absolute inset-0 top-auto -bottom-[12px] w-full">
          <div class="bg-black/50 backdrop-blur-lg h-24 rounded-lg mx-4"></div>
        </div>
      </div>
      <div
        class="relative z-20 grow bg-black rounded-lg w-full h-full p-16 grid items-center"
      >
        <div class="w-1/2 space-y-3 max-w-xl">
          <div class="uppercase text-primary text-sm">
            Full-Stack Web Development
          </div>
          <Heading level={1}>Bring your ideas to life</Heading>
          <p class="text-background text-2xl">
            Helping today's visionaries <em>(psstâ€”that's you)</em> build a better
            tomorrow by turning ideas into online interactive experiences.
          </p>
        </div>
        <img
          src="/me.png"
          alt="Me"
          class="absolute bottom-0 right-0 rounded-br-lg object-cover h-[800px] md:w-2/3 lg:w-[800px] aspect-square pointer-events-none dark:brightness-75 contrast-[1.1]"
        />
      </div>
      <!-- <PortableText blocks={data.body} /> -->
    </div>
  </main>
</Layout>
