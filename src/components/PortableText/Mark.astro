---
import type { Props as $, Mark } from "astro-portabletext/types";
import { Mark as DefaultMark } from "astro-portabletext/components";
import InternalRef from "./InternalRef.astro";
import ExternalLink from "./ExternalLink.astro";

export type Props = $<Mark>;

const props = Astro.props;

let Cmp = DefaultMark;

switch (props.node.markType) {
  case "internalRef":
    Cmp = InternalRef;
    break;
  case "externalLink":
    Cmp = ExternalLink;
    break;
  default:
    break;
}
---

<Cmp {...props}><slot /></Cmp>
